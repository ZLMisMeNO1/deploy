## 基于netty5 的学习笔记

[视频地址](https://www.bilibili.com/video/av15277109/?from=search&seid=2010962537258302814#page=5)

## netty最佳实践

### 数据通信、心跳检测

1. 使用长连接通道不断开的形式进行通信，也就是服务器和客户端的通道一直处于开启状态，如果服务器性能足够好，并且我们的客户端数量也相对较少的情况下，推荐这种
2. 一次性批量提交数据，采用短连接的方式。也就是我们会把数据保存在本地临时缓存区或者临时表中，当达到临值是进行一次性批量提交，又或者根据定时任务轮训提交，这种
情况的弊端是做不到实时性传输，在对实时性不高的应用程序中可以推荐使用。
3. 我们可以使用一种特殊的长连接，在指定某一时间内，服务器与某台客户端没有任何通信，则断开连接。下次连接则是客户端想服务器端发送请求的时候，再次建立连接。
但是这种模式我们需要考虑2个因素：
	- 如何在超时（即服务器和客户端没有任何通信）后台关闭通道？关闭通道我们又如何再次建立连接？
	- 客户端宕机时，我们无需考虑，下次客户端重启之后我们就可以与服务器建立连接，但是服务器宕机时，我们的客户端如何与服务器进行连接呢？
